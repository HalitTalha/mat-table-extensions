!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/material/table"),require("rxjs"),require("rxjs/operators"),require("lodash")):"function"==typeof define&&define.amd?define("mat-table-filter",["exports","@angular/core","@angular/material/table","rxjs","rxjs/operators","lodash"],t):t((e=e||self)["mat-table-filter"]={},e.ng.core,e.ng.material.table,e.rxjs,e.rxjs.operators,e.lodash)}(this,(function(e,t,i,r,n,a){"use strict";var o={EQUALS:"EQUALS",ANYWHERE:"ANYWHERE",STARTS_WITH:"STARTS_WITH",ENDS_WITH:"ENDS_WITH"},s=function(){function e(){}return e.prototype.filterPredicate=function(e,t,i,r){for(var n=Object.keys(e),a=0;a<n.length;a++){var o=n[a],s=e[o],l=t[o];if(s&&!(s instanceof Array)){if(!l)return!1;if(this.isAlphaNumeric(l)){if(!this.filterPredicateAlphaNumeric(s,l,i,r))return!1}else if(this.isBoolean(l)){if(l!==s)return!1}else if(!this.filterPredicate(s,l,i,r))return!1}}return!0},e.prototype.filterPredicateAlphaNumeric=function(e,t,i,r){var n=e.toString(),a=t.toString();r||(n=n.toUpperCase(),a=a.toUpperCase());var s=!0;switch(i){case o.EQUALS:e!==t&&(s=!1);break;case o.ANYWHERE:a.includes(n)||(s=!1);break;case o.STARTS_WITH:a.startsWith(n)||(s=!1);break;case o.ENDS_WITH:a.endsWith(n)||(s=!1)}return s},e.prototype.isAlphaNumeric=function(e){return"string"==typeof e||"number"==typeof e},e.prototype.isBoolean=function(e){return"boolean"==typeof e},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),l=function(){function e(e,t,i){this._filterService=e,this._injectedTable=t,this._viewContainerRef=i,this.debounceTime=400,this.filterType=o.ANYWHERE,this.caseSensitive=!1,this.initCdkTable(),this.initDebounceSubject()}return e.prototype.ngDoCheck=function(){this.isExampleEntityChanged()&&(this._oldExampleEntity=this.toPlainJson(this.exampleEntity),this._exampleEntitySubject.next())},e.prototype.isExampleEntityChanged=function(){return!a.isEqual(this._oldExampleEntity,this.toPlainJson(this.exampleEntity))},e.prototype.toPlainJson=function(e){return e?JSON.parse(JSON.stringify(e)):void 0},e.prototype.initCdkTable=function(){var e=this._viewContainerRef._data.componentView.component;if(e)this._table=e;else{if(!this._injectedTable)throw new Error("Unsupported Angular version");this._table=this._injectedTable}},e.prototype.initDebounceSubject=function(){var e=this;this._exampleEntitySubject=new r.BehaviorSubject(null),this._exampleEntitySubject.pipe(n.debounceTime(this.debounceTime)).subscribe((function(t){e.updateFilterPredicate()}))},e.prototype.updateFilterPredicate=function(){var e=this.getMatDataSource();if(e){var t=this;e.filterPredicate=function(e){return t._filterService.filterPredicate(t.exampleEntity,e,t.filterType,t.caseSensitive)},e.filter=this.exampleEntity}},e.prototype.getMatDataSource=function(){return this._table.dataSource},e.decorators=[{type:t.Directive,args:[{selector:"[matTableFilter]",exportAs:"matTableFilter"}]}],e.ctorParameters=function(){return[{type:s},{type:i.MatTable,decorators:[{type:t.Host},{type:t.Self},{type:t.Optional}]},{type:t.ViewContainerRef}]},e.propDecorators={exampleEntity:[{type:t.Input}],debounceTime:[{type:t.Input}],filterType:[{type:t.Input}],caseSensitive:[{type:t.Input}]},e}();var c=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[l],imports:[i.MatTableModule],exports:[l]}]}],e}();e.MatTableFilter=o,e.MatTableFilterModule=c,e.MatTableFilterService=s,e.ɵa=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mat-table-filter.umd.min.js.map